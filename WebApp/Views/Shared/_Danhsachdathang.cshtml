@model IEnumerable<ViewModels.Dathang.DathangVm>
<style>
    table.dataTable.dtr-inline.collapsed > tbody > tr > td.child, table.dataTable.dtr-inline.collapsed > tbody > tr > th.child, table.dataTable.dtr-inline.collapsed > tbody > tr > td.dataTables_empty {
        font-size: small;
        text-align: left;
    }
    .btn-group-center {
        text-align: center;
    }
 
</style>

<table id="table" class="table table-reponsive table-hover " style="text-align:center;vertical-align:middle">
    <thead style="font-size:small;">
        <tr>
            <th class="all" style="white-space: nowrap;">Tên linh kiện</th>
            <th class="all" style="white-space: nowrap;">Mã linh kiện</th>
            <th class="all" style="white-space: nowrap;">Ngày yêu cầu</th>
            <th class="all" style="white-space: nowrap;"></th>
            <th class="all" style="white-space: nowrap;"></th>
            <th class="none" style="white-space: nowrap;">
                Tên Jig
            </th>
            <th class="none" style="white-space: nowrap;">
                Mã Jig
            </th>
            <th class="none" style="white-space: nowrap;">
                Maker
            </th>
            <th class="none" style="white-space: nowrap;">
                Đơn vị
            </th>
            <th class="none" style="white-space: nowrap;">
                Ghi chú
            </th>
            <th class="none" style="white-space: nowrap;">
                Đơn giá
            </th>
            <th class="none" style="white-space: nowrap;">
                Thành tiền
            </th>
            <th class="none" style="white-space: nowrap;">
                Ngày đặt hàng
            </th>
            <th class="none" style="white-space: nowrap;">
                Ngày dự kiến hàng về
            </th>
            <th class="none" style="white-space: nowrap;">
                Ngày hàng về
            </th>
            <th class="none" style="white-space: nowrap;">
                Ngày dự kiến hàng về đợt 2
            </th>
            <th class="none" style="white-space: nowrap;">
                Ngày hàng về đợt 2
            </th>
            <th class="none" style="white-space: nowrap;">
                Số lượng tồn kho khi đặt hàng
            </th>
            <th class="none" style="white-space: nowrap;">
                Số lượng đặt hàng
            </th>
            <th class="none" style="white-space: nowrap;">
                Trạng thái
            </th>
            <th class="none" style="white-space: nowrap;">
                Người đặt hàng
            </th>
            <th class="none" style="white-space: nowrap;">
                Model
            </th>
            <th class="none" style="white-space: nowrap;">
                Số lượng hàng về đợt 1
            </th>
            <th class="none" style="white-space: nowrap;">
                Số lượng hàng về đợt 2
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td style="font-size:small; vertical-align:middle;text-align:center">
                    @Html.DisplayFor(modelItem => item.Tenlinhkien)
                </td>
                <td style="font-size:small; vertical-align:middle;text-align:center">
                    @Html.DisplayFor(modelItem => item.Malinhkien)
                </td>
                <td style="font-size:small; vertical-align:middle;text-align:center">
                    @Html.DisplayFor(modelItem => item.Ngayyeucau)
                </td>
                <td class="col-md-2" style="vertical-align:middle;text-align:center">
                    @{
                        if (item.Image != null)
                        {
                            <img class="shadow showImage" style="width:100%;min-width:50px;max-width:150px; max-height:200px;" src="@item.Image" data-tenlinhkien="@item.Tenlinhkien">
                        }
                        else
                        {
                            <button class="btn btn-sm btn-secondary" disabled>None</button>
                        }
                    }
                </td>
                <td class="col-md-2" style="font-size:small; vertical-align:middle;text-align:center">
                    <div class="btn-group btn-block ">
                        <a class="btn btn-app bg-default ">
                            <i style="color:seagreen" class="fas fa-upload"></i> Lấy sử dụng
                        </a>
                        <a class="btn btn-app bg-default ">
                            <i style="color:orange" class="fas fa-cart-plus"></i> Đặt hàng
                        </a>
                    </div>
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Tenjig)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Majig)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Maker)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Donvi)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ghichu)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Dongia)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Thanhtien)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ngaydathang)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ngaydukienhangve)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ngayhangve)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ngaydukienhangvedot2)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ngayhangvedot2)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Soluongtonkho)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Soluong)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Trangthai)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Nguoidathang)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Model)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Soluongvedot1)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Soluongvedot2)
                </td>              
            </tr>
        }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        var table = $("#table").DataTable({           
            "paging": true,
            "lengthChange": true,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "buttons": [
                {
                    extend: 'copy',
                    text: '<i class="fas fa-copy"></i> Copy',
                    className: 'btn-default'
                },
                {
                    extend: 'excel',
                    text: '<i class="fas fa-file-excel"></i> Xuất Excel',
                    className: 'btn-default'
                },
                {
                    extend: 'print',
                    text: '<i class="fas fa-print"></i> In',
                    className: 'btn-default'
                }
            ],
            "drawCallback": function () {
                $('#overlay1').hide();
                $('#thebody1').show();
            }
        }).buttons().container().appendTo('#table_wrapper .col-md-6:eq(0)')
    });
</script>